# SECURITY.md — سياسة الأمان لمخزن Keystore Vault

## 1) نطاق الحماية
هذا المستودع يحتوي (أو سيحتوي) على:
- ملفات keystore: `*.jks` / `*.keystore`
- ملفات خصائص Gradle: `key.properties`
- (اختياري) ملف إعدادات السكربت: `.keystore_config.json`

هذه الملفات تعتبر **Secrets**.

---

## 2) قواعد ممنوعات (Non‑negotiables)
- ❌ ممنوع رفع هذا المستودع على GitHub Public.
- ❌ ممنوع مشاركة `key.properties` أو كلمات المرور في Issues أو Slack أو Email بدون تشفير.
- ❌ ممنوع حفظ كلمات المرور داخل مستودع عام أو داخل مشاريع التطبيقات.

---

## 3) التحكم في الوصول (Access Control)
- المستودع Private فقط.
- أقل عدد ممكن من الأشخاص لديهم صلاحية Write.
- يفضل استخدام 2FA + SSO إن أمكن.
- راجع الصلاحيات شهريًا.

---

## 4) النسخ الاحتياطي (Backup)
### القاعدة الذهبية
> ضياع الـ keystore = عدم القدرة على تحديث التطبيق المنشور (إلا عبر حلول مثل Play App Signing حسب الحالة).

يوصى بـ:
- Backup مشفر (Zip + AES أو داخل Password Manager)
- نسخة Offline (USB مشفر)
- اختبار الاسترجاع كل 3 أشهر

---

## 5) استخدام CI/CD بشكل آمن
- استخدم GitHub Secrets:
  - `KEYSTORE_PASSWORD`
  - `KEY_PASSWORD`
- لا تكتب كلمات المرور في logs.
- لا ترفع keystore كـ artifact إلا عند الضرورة وبداخل مستودع خاص.
- فعّل حماية الـ branches و required reviews.

---

## 6) الاستجابة للحوادث (Incident Response)
لو تسرّب keystore أو password:
1) اعتبره اختراق كامل للمفتاح.
2) أوقف الوصول للمستودع فورًا/غيّر الصلاحيات.
3) غيّر كلمات المرور إن كان ممكن.
4) راجع خيارات Google Play (مثل Play App Signing / Upload Key reset) حسب وضع تطبيقك.
5) وثّق الواقعة وحدث السياسات.

---

## 7) التواصل
- لبلاغات الأمان: استخدم قناة داخلية مشفرة أو بريد داخلي.
- لا تضع أي أسرار داخل البلاغ نفسه؛ اذكر فقط اسم التطبيق وخطورة المشكلة.
